
/* 根据某个用户，查询对应角色下的所有权限*/
select * from user u 
left join user_role ur on u.id = ur.user_id /* 查询用户对应的角色映射关系*/
left join role r on ur.role_id = r.id /* 查询用户对应的角色*/
left join role_permission rp on r.id = rp.role_id /* 查询角色对应的权限映射关系*/
left join permission p on rp.permission_id = p.id /* 查询角色对应的权限*/
where u.id=3; 


/* 根据角色，查询对应的权限*/
select p.id as id, p.name as name, p.url as url from role_permission rp
left join permission p on rp.permission_id = p.id
where rp.role_id = 3;


/* 根据用户，查询对应的角色*/
select ur.role_id as id, r.name as name, r.description as description from user_role ur
left join role r on ur.role_id = r.id
where ur.user_id=3;



